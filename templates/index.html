<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <title>Image Encryptor/Decryptor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="static/bootstrap.min.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <div class="container">
      <h1 class="bd-title">Image Encryptor/Decryptor</h1>
      <hr>
      {% with errors = get_flashed_messages(category_filter=["error"]) %}
        {% if errors %}
          <div class="alert alert-danger">
            {% for error in errors %}
              Error: {{ error }}
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      {% with successes = get_flashed_messages(category_filter=["success"]) %}
        {% if successes %}
          <div class="alert alert-success">
            {% for success in successes %}
              Success: {{ success }}
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      <h3>Encryption</h3>
      <h4>Step 1: Upload an image</h4>
      <p>Press the "Browse..." button below to select an image you want to encrypt, then press "Upload".</p>
      <div class="input-group mb-3">
        <form method="post" action="upload" enctype="multipart/form-data">
          <input type="file" class="form-control-file" name="file">
          <input type="submit" class="btn btn-primary" value="Upload">
        </form>

        <!-- <input type="file" class="form-control" id="inputGroupFile02" />
        <label class="input-group-text" for="inputGroupFile02">Upload</label> -->
      </div>      
      
      <p>Selected file: {{ uploaded_image }}</p>
      <h4>Step 2: Encrypt</h4>
      <p>After uploading, press the button below to encrypt and download the image.</p>
      <form method="get" action="encrypt">
        <input class="btn btn-primary" type="submit" value="Encrypt + Download" name="Encrypt" />
      </form>
    </div>
  </body>
</html>